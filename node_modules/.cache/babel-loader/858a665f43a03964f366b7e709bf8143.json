{"ast":null,"code":"var _jsxFileName = \"/Users/mazinabed/Desktop/testingbot/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Card from \"./Components/Card/Card\";\nimport Cart from \"./Components/Cart/Cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst {\n  getData\n} = require(\"./db/db\");\n\nconst foods = getData();\nconst tele = window.Telegram.WebApp;\n\nfunction App() {\n  _s();\n\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    tele.ready();\n    setBotResponse(\"Welcome! How can I assist you today?\");\n  });\n\n  const onAdd = food => {\n    const exist = cartItems.find(x => x.id === food.id);\n\n    if (exist) {\n      setCartItems(cartItems.map(x => x.id === food.id ? { ...exist,\n        quantity: exist.quantity + 1\n      } : x));\n    } else {\n      setCartItems([...cartItems, { ...food,\n        quantity: 1\n      }]);\n    }\n  };\n\n  const onRemove = food => {\n    const exist = cartItems.find(x => x.id === food.id);\n\n    if (exist.quantity === 1) {\n      setCartItems(cartItems.filter(x => x.id !== food.id));\n    } else {\n      setCartItems(cartItems.map(x => x.id === food.id ? { ...exist,\n        quantity: exist.quantity - 1\n      } : x));\n    }\n  };\n\n  const onCheckout = () => {\n    tele.MainButton.text = \"Pay :)\";\n    tele.MainButton.show();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"heading\",\n      children: \"Order Food\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Cart, {\n      cartItems: cartItems,\n      onCheckout: onCheckout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards__container\",\n      children: foods.map(food => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          food: food,\n          onAdd: onAdd,\n          onRemove: onRemove\n        }, food.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Card","Cart","getData","require","foods","tele","window","Telegram","WebApp","App","cartItems","setCartItems","ready","setBotResponse","onAdd","food","exist","find","x","id","map","quantity","onRemove","filter","onCheckout","MainButton","text","show"],"sources":["/Users/mazinabed/Desktop/testingbot/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Card from \"./Components/Card/Card\";\nimport Cart from \"./Components/Cart/Cart\";\nconst { getData } = require(\"./db/db\");\nconst foods = getData();\n\nconst tele = window.Telegram.WebApp;\n\nfunction App() {\n  const [cartItems, setCartItems] = useState([]);\n\n  useEffect(() => {\n    tele.ready();\n    setBotResponse(\"Welcome! How can I assist you today?\")\n  },);\n\n  const onAdd = (food) => {\n    const exist = cartItems.find((x) => x.id === food.id);\n    if (exist) {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === food.id ? { ...exist, quantity: exist.quantity + 1 } : x\n        )\n      );\n    } else {\n      setCartItems([...cartItems, { ...food, quantity: 1 }]);\n    }\n  };\n\n  const onRemove = (food) => {\n    const exist = cartItems.find((x) => x.id === food.id);\n    if (exist.quantity === 1) {\n      setCartItems(cartItems.filter((x) => x.id !== food.id));\n    } else {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === food.id ? { ...exist, quantity: exist.quantity - 1 } : x\n        )\n      );\n    }\n  };\n\n  const onCheckout = () => {\n    tele.MainButton.text = \"Pay :)\";\n    tele.MainButton.show();\n  };\n\n  return (\n    <>\n      <h1 className=\"heading\">Order Food</h1>\n      <Cart cartItems={cartItems} onCheckout={onCheckout}/>\n      <div className=\"cards__container\">\n        {foods.map((food) => {\n          return (\n            <Card food={food} key={food.id} onAdd={onAdd} onRemove={onRemove} />\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;;;;AACA,MAAM;EAAEC;AAAF,IAAcC,OAAO,CAAC,SAAD,CAA3B;;AACA,MAAMC,KAAK,GAAGF,OAAO,EAArB;AAEA,MAAMG,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBC,MAA7B;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAA1C;EAEAC,SAAS,CAAC,MAAM;IACdM,IAAI,CAACO,KAAL;IACAC,cAAc,CAAC,sCAAD,CAAd;EACD,CAHQ,CAAT;;EAKA,MAAMC,KAAK,GAAIC,IAAD,IAAU;IACtB,MAAMC,KAAK,GAAGN,SAAS,CAACO,IAAV,CAAgBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAApC,CAAd;;IACA,IAAIH,KAAJ,EAAW;MACTL,YAAY,CACVD,SAAS,CAACU,GAAV,CAAeF,CAAD,IACZA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAd,GAAmB,EAAE,GAAGH,KAAL;QAAYK,QAAQ,EAAEL,KAAK,CAACK,QAAN,GAAiB;MAAvC,CAAnB,GAAgEH,CADlE,CADU,CAAZ;IAKD,CAND,MAMO;MACLP,YAAY,CAAC,CAAC,GAAGD,SAAJ,EAAe,EAAE,GAAGK,IAAL;QAAWM,QAAQ,EAAE;MAArB,CAAf,CAAD,CAAZ;IACD;EACF,CAXD;;EAaA,MAAMC,QAAQ,GAAIP,IAAD,IAAU;IACzB,MAAMC,KAAK,GAAGN,SAAS,CAACO,IAAV,CAAgBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAApC,CAAd;;IACA,IAAIH,KAAK,CAACK,QAAN,KAAmB,CAAvB,EAA0B;MACxBV,YAAY,CAACD,SAAS,CAACa,MAAV,CAAkBL,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAtC,CAAD,CAAZ;IACD,CAFD,MAEO;MACLR,YAAY,CACVD,SAAS,CAACU,GAAV,CAAeF,CAAD,IACZA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAd,GAAmB,EAAE,GAAGH,KAAL;QAAYK,QAAQ,EAAEL,KAAK,CAACK,QAAN,GAAiB;MAAvC,CAAnB,GAAgEH,CADlE,CADU,CAAZ;IAKD;EACF,CAXD;;EAaA,MAAMM,UAAU,GAAG,MAAM;IACvBnB,IAAI,CAACoB,UAAL,CAAgBC,IAAhB,GAAuB,QAAvB;IACArB,IAAI,CAACoB,UAAL,CAAgBE,IAAhB;EACD,CAHD;;EAKA,oBACE;IAAA,wBACE;MAAI,SAAS,EAAC,SAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,IAAD;MAAM,SAAS,EAAEjB,SAAjB;MAA4B,UAAU,EAAEc;IAAxC;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAK,SAAS,EAAC,kBAAf;MAAA,UACGpB,KAAK,CAACgB,GAAN,CAAWL,IAAD,IAAU;QACnB,oBACE,QAAC,IAAD;UAAM,IAAI,EAAEA,IAAZ;UAAgC,KAAK,EAAED,KAAvC;UAA8C,QAAQ,EAAEQ;QAAxD,GAAuBP,IAAI,CAACI,EAA5B;UAAA;UAAA;UAAA;QAAA,QADF;MAGD,CAJA;IADH;MAAA;MAAA;MAAA;IAAA,QAHF;EAAA,gBADF;AAaD;;GApDQV,G;;KAAAA,G;AAsDT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}